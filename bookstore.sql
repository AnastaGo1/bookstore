-- phpMyAdmin SQL Dump
-- version 5.2.0
-- https://www.phpmyadmin.net/
--
-- Хост: 127.0.0.1:3306
-- Время создания: Июл 03 2025 г., 08:43
-- Версия сервера: 8.0.30
-- Версия PHP: 7.2.34

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `bookstore`
--

-- --------------------------------------------------------

--
-- Структура таблицы `authors`
--

CREATE TABLE `authors` (
  `author_id` int NOT NULL,
  `name` varchar(100) COLLATE utf8mb4_general_ci NOT NULL,
  `bio` text COLLATE utf8mb4_general_ci,
  `birth_date` date DEFAULT NULL,
  `country` varchar(50) COLLATE utf8mb4_general_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Дамп данных таблицы `authors`
--

INSERT INTO `authors` (`author_id`, `name`, `bio`, `birth_date`, `country`) VALUES
(1, 'Джоан Роулинг', 'Британская писательница, наиболее известная по серии романов о Гарри Поттере.', '1965-07-31', 'Великобритания'),
(2, 'Джордж Оруэлл', 'Английский писатель и публицист, автор антиутопических романов.', '1903-06-25', 'Великобритания'),
(3, 'Фёдор Достоевский', 'Русский писатель, мыслитель, философ и публицист.', '1821-11-11', 'Россия'),
(4, 'Лев Толстой', 'Русский писатель, один из величайших писателей-романистов мира.', '1828-09-09', 'Россия'),
(5, 'Стивен Кинг', 'Американский писатель, работающий в жанрах ужасов, триллера, фантастики.', '1947-09-21', 'США'),
(6, 'Дэн Браун', 'Американский писатель, журналист, музыкант.', '1964-06-22', 'США'),
(7, 'Джейн Остин', 'Английская писательница, провозвестница реализма в британской литературе.', '1775-12-16', 'Великобритания'),
(8, 'Эрих Мария Ремарк', 'Немецкий писатель XX века, представитель \"потерянного поколения\".', '1898-06-22', 'Германия'),
(9, 'Михаил Булгаков', 'Русский писатель, драматург, театральный режиссёр и актёр.', '1891-05-15', 'Россия'),
(10, 'Агата Кристи', 'Английская писательница, автор детективных романов и пьес.', '1890-09-15', 'Великобритания'),
(11, 'Джордж Мартин', 'Американский писатель-фантаст, сценарист, продюсер и редактор, лауреат многих литературных премий.', '1948-09-20', 'США'),
(12, 'Джон Р. Р. Толкин', 'Британский писатель, поэт, переводчик, лингвист и филолог.', '1892-01-03', 'ЮАР'),
(13, 'Фрэнк Герберт', 'Американский писатель-фантаст.', '1920-10-08', 'США'),
(14, 'Дмитрий Глуховский', 'Российский писатель и журналист, автор постапокалиптического романа \"Метро 2033\".', '1979-06-12', 'Россия'),
(15, 'Анджей Сапковский', 'Польский писатель-фантаст, автор саги о Ведьмаке.', '1948-06-21', 'Польша'),
(16, 'Рэй Брэдбери', 'Американский писатель, автор \"451 градус по Фаренгейту\".', '1920-08-22', 'США'),
(17, 'Оскар Уайльд', 'Ирландский писатель и поэт, автор \"Портрета Дориана Грея\".', '1854-10-16', 'Ирландия'),
(18, 'Анна Старобинец', 'Российская писательница, автор цикла \"Зверский детектив\".', '1978-10-25', 'Россия'),
(19, 'Терри Пратчетт', 'Английский писатель, автор цикла \"Плоский мир\".', '1948-04-28', 'Великобритания'),
(20, 'Евгений Гаглоев', 'Российский писатель-фантаст, автор цикла \"Зерцалия\".', '1976-01-01', 'Россия'),
(21, 'Уильям Голдинг', 'Английский писатель, лауреат Нобелевской премии по литературе.', '1911-09-19', 'Великобритания'),
(22, 'Вероника Рот', 'Американская писательница, автор трилогии \"Дивергент\".', '1988-08-19', 'США');

-- --------------------------------------------------------

--
-- Структура таблицы `books`
--

CREATE TABLE `books` (
  `book_id` int NOT NULL,
  `title` varchar(200) COLLATE utf8mb4_general_ci NOT NULL,
  `author_id` int DEFAULT NULL,
  `genre_id` int DEFAULT NULL,
  `category_id` int DEFAULT NULL,
  `isbn` varchar(20) COLLATE utf8mb4_general_ci DEFAULT NULL,
  `price` decimal(10,2) NOT NULL,
  `description` text COLLATE utf8mb4_general_ci,
  `publication_date` date DEFAULT NULL,
  `publisher` varchar(100) COLLATE utf8mb4_general_ci DEFAULT NULL,
  `cover_image` varchar(255) COLLATE utf8mb4_general_ci DEFAULT NULL,
  `rating` decimal(3,2) DEFAULT NULL,
  `stock_quantity` int DEFAULT '0',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Дамп данных таблицы `books`
--

INSERT INTO `books` (`book_id`, `title`, `author_id`, `genre_id`, `category_id`, `isbn`, `price`, `description`, `publication_date`, `publisher`, `cover_image`, `rating`, `stock_quantity`, `created_at`) VALUES
(1, 'Гарри Поттер и узник Азкабана', 1, 1, 5, '978-5-389-07435-4', '599.00', 'Долгих двенадцать лет кровожадный убийца Сириус Блэк провел в заточении мрачной тюрьмы магического мира - Азкабане. И теперь на свободе, он бежал из тюрьмы и его цель - убить Гарри Поттера.', '1997-06-26', 'Росмэн', 'GarryP.svg', '4.80', 50, '2025-07-03 04:49:28'),
(2, '1984', 2, 2, 4, '978-5-17-103525-7', '350.00', 'Антиутопический роман о тоталитарном обществе.', '1949-06-08', 'АСТ', '1984.jpg', '4.70', 30, '2025-07-03 04:49:28'),
(3, 'Преступление и наказание', 3, 3, 4, '978-5-04-103876-9', '450.00', 'Роман о бывшем студенте Раскольникове, совершившем убийство.', '1866-01-01', 'Эксмо', 'prestuplenie.jpg', '4.60', 25, '2025-07-03 04:49:28'),
(4, 'Война и мир', 4, 3, 4, '978-5-699-75501-5', '650.00', 'Эпический роман о русском обществе во времена Наполеоновских войн.', '1869-01-01', 'Эксмо', 'voina_i_mir.jpg', '4.90', 20, '2025-07-03 04:49:28'),
(5, 'Оно', 5, 4, 6, '978-5-17-090630-5', '550.00', 'Роман ужасов о древнем зле, терроризирующем маленький городок.', '1986-09-15', 'АСТ', 'ono.jpg', '4.50', 40, '2025-07-03 04:49:28'),
(6, 'Код да Винчи', 6, 6, 1, '978-5-17-077671-6', '499.00', 'Детективный роман о тайнах христианства и загадках Леонардо да Винчи.', '2003-03-18', 'АСТ', 'kod_da_vinchi.jpg', '4.40', 35, '2025-07-03 04:49:28'),
(7, 'Гордость и предубеждение', 7, 6, 4, '978-5-389-06271-9', '399.00', 'Классический роман о любви и социальных предрассудках.', '1813-01-28', 'Азбука', 'gordost.jpg', '4.70', 30, '2025-07-03 04:49:28'),
(8, 'Три товарища', 8, 6, 4, '978-5-17-090629-9', '420.00', 'Роман о дружбе и любви в послевоенной Германии.', '1936-12-01', 'АСТ', 'tri_tovarischa.jpg', '4.80', 25, '2025-07-03 04:49:28'),
(9, 'Мастер и Маргарита', 9, 1, 4, '978-5-17-067842-1', '480.00', 'Мистический роман о дьяволе, посетившем Москву.', '1967-01-01', 'АСТ', 'master_i_margarita.jpg', '4.90', 30, '2025-07-03 04:49:28'),
(10, 'Убийство в \"Восточном экспрессе\"', 10, 5, 1, '978-5-699-75502-2', '380.00', 'Знаменитый детектив Эркюля Пуаро.', '1934-01-01', 'Эксмо', 'vostochniy_express.jpg', '4.60', 35, '2025-07-03 04:49:28'),
(12, 'Скотный двор', 2, 2, 4, '978-5-17-103526-4', '320.00', 'Сатирическая повесть-притча о революции и тоталитаризме.', '1945-08-17', 'АСТ', 'skotniy_dvor.jpg', '4.60', 20, '2025-07-03 04:49:28'),
(13, 'Идиот', 3, 3, 4, '978-5-04-103877-6', '470.00', 'Роман о князе Мышкине, \"положительно прекрасном человеке\".', '1869-01-01', 'Эксмо', 'idiot.jpg', '4.70', 15, '2025-07-03 04:49:28'),
(14, 'Анна Каренина', 4, 3, 4, '978-5-699-75503-9', '600.00', 'Роман о трагической любви замужней женщины.', '1877-01-01', 'Эксмо', 'anna_karenina.jpg', '4.80', 20, '2025-07-03 04:49:28'),
(15, 'Сияние', 5, 4, 6, '978-5-17-090631-2', '520.00', 'Роман ужасов о писателе, который сходит с ума в отдалённом отеле.', '1977-01-28', 'АСТ', 'sianie.jpg', '4.50', 30, '2025-07-03 04:49:28'),
(16, 'Ангелы и демоны', 6, 6, 1, '978-5-17-077672-3', '499.00', 'Детективный роман о противостоянии науки и религии.', '2000-05-01', 'АСТ', 'angeli_i_demony.jpg', '4.30', 35, '2025-07-03 04:49:28'),
(17, 'Эмма', 7, 6, 4, '978-5-389-06272-6', '390.00', 'Роман о молодой женщине, увлекающейся устройством чужих судеб.', '1815-12-23', 'Азбука', 'emma.jpg', '4.60', 25, '2025-07-03 04:49:28'),
(18, 'На западном фронте без перемен', 8, 6, 4, '978-5-17-090632-9', '400.00', 'Роман о Первой мировой войне глазами молодого солдата.', '1929-01-29', 'АСТ', 'na_zapadnom_fronte.jpg', '4.80', 20, '2025-07-03 04:49:28'),
(19, 'Собачье сердце', 9, 3, 4, '978-5-17-067843-8', '350.00', 'Сатирическая повесть о последствиях научного эксперимента.', '1925-01-01', 'АСТ', 'sobachye_serdce.jpg', '4.70', 30, '2025-07-03 04:49:28'),
(20, 'Десять негритят', 10, 5, 1, '978-5-699-75504-6', '380.00', 'Классический детектив о серии загадочных убийств на острове.', '1939-11-06', 'Эксмо', 'desyat_negritat.jpg', '4.70', 40, '2025-07-03 04:49:28'),
(21, 'Зеленая миля', 5, 4, 1, '978-5-699-75504-6', '380.00', 'Однажды в камеру привозят мужчину, который приговорен к смерти за убийство двух маленьких девочек. В ходе знакомства с ним главный герой понимает, что тот - обладатель божественного дара целительства.', '1939-11-06', 'Эксмо', 'GreenM.svg', '4.70', 40, '2025-07-03 04:49:28'),
(22, 'Игра престолов', 11, 1, 10, '978-5-699-75504-6', '580.00', 'В легендарной «Песни льда и огня» политические игры тесно переплетаются с дворцовыми интригами, а смелые повороты сюжета полностью меняют ход истории.', '1939-11-06', 'Эксмо', 'GameP.svg', '4.85', 40, '2025-07-03 04:49:28'),
(23, 'Властелин колец', 12, 1, 10, '978-5-699-75504-6', '480.00', 'Удивительный, полный опасностей и приключений, находящийся под вечным противостоянием добра и зла мир. На долю маленького хоббита Фродо выпала участь пройти через все Средиземье.', '1939-11-06', 'Эксмо', 'LordR.svg', '4.80', 40, '2025-07-03 04:49:28'),
(24, 'Дюна', 13, 7, 1, '978-5-699-75504-6', '380.00', 'Роман \"Дюна\" Фрэнка Герберта рассказывает о Поле Атрейдесе, наследнике благородного дома, который оказывается в центре политических интриг и религиозных пророчеств на пустынной планете Арракис, также известной как Дюна. Она является единственным источником ценной специи - меланжа, который наделяет людей экстрасенсорными способностями и является ключом к межзвёздным путешествиям. ', '1965-08-05', 'Эксмо', 'Dune.svg', '4.65', 40, '2025-07-03 04:49:28'),
(25, 'Метро 2033', 14, 7, 1, '978-5-699-40602-3', '450.00', 'Постапокалиптический роман о жизни людей в московском метро после ядерной войны.', '2005-01-01', 'Эксмо', 'Metro2033.svg', '4.70', 35, '2025-07-03 05:34:00'),
(26, 'Ведьмак', 15, 1, 6, '978-5-17-090634-3', '1520.00', 'Сборник книг саги о ведьмаке Геральте из Ривии.', '1993-01-01', 'АСТ', 'Vedmak.svg', '4.90', 40, '2025-07-03 05:34:00'),
(27, '451 градус по Фаренгейту', 16, 7, 4, '978-5-17-090637-4', '420.00', 'Антиутопия о мире, где книги находятся под запретом.', '1953-10-19', 'АСТ', '451C.svg', '4.90', 25, '2025-07-03 05:34:00'),
(28, 'Портрет Дориана Грея', 17, 3, 4, '978-5-389-06273-3', '380.00', 'Философский роман о красоте, морали и вечной молодости.', '1890-07-01', 'Азбука', 'Dorian.svg', '4.80', 30, '2025-07-03 05:34:00'),
(29, 'Грим', 18, 4, 6, '978-5-17-112090-8', '480.00', 'Мрачный детектив с элементами хоррора.', '2015-01-01', 'АСТ', 'Grim.svg', '4.50', 20, '2025-07-03 05:34:00'),
(30, 'Роковая музыка', 19, 1, 1, '978-5-699-75507-7', '550.00', 'Юмористическое фэнтези из цикла \"Плоский мир\".', '1994-01-01', 'Эксмо', 'Rock.svg', '4.60', 25, '2025-07-03 05:34:00'),
(31, 'Танго с тенями', 20, 1, 6, '978-5-17-112091-5', '490.00', 'Фантастический роман о мире, где тени обладают собственной волей.', '2016-01-01', 'АСТ', 'Tango.svg', '4.40', 15, '2025-07-03 05:34:00'),
(32, 'Повелитель мух', 21, 3, 4, '978-5-17-090644-2', '400.00', 'Аллегорический роман о группе детей, оказавшихся на необитаемом острове.', '1954-09-17', 'АСТ', 'PovMux.svg', '4.70', 20, '2025-07-03 05:34:00'),
(33, 'Дивергент', 22, 7, 5, '978-5-17-090645-9', '500.00', 'Первая книга антиутопической трилогии о разделённом на фракции обществе.', '2011-04-25', 'АСТ', 'Divergent.svg', '4.50', 30, '2025-07-03 05:34:00');

-- --------------------------------------------------------

--
-- Структура таблицы `categories`
--

CREATE TABLE `categories` (
  `category_id` int NOT NULL,
  `name` varchar(50) COLLATE utf8mb4_general_ci NOT NULL,
  `description` text COLLATE utf8mb4_general_ci
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Дамп данных таблицы `categories`
--

INSERT INTO `categories` (`category_id`, `name`, `description`) VALUES
(1, 'Бестселлеры', 'Самые популярные и продаваемые книги.'),
(2, 'Новинки', 'Недавно вышедшие книги.'),
(3, 'Со скидкой', 'Книги со специальными предложениями.'),
(4, 'Классика', 'Проверенные временем произведения.'),
(5, 'Для подростков', 'Книги, ориентированные на молодёжную аудиторию.'),
(6, 'Для взрослых', 'Литература для взрослой аудитории.'),
(7, 'Подарочные издания', 'Книги в специальном оформлении.'),
(8, 'Электронные книги', 'Книги в цифровом формате.'),
(9, 'Аудиокниги', 'Книги в аудиоформате.'),
(10, 'Лучшие за год', 'Лучшие книги по версии различных рейтингов.');

-- --------------------------------------------------------

--
-- Структура таблицы `genres`
--

CREATE TABLE `genres` (
  `genre_id` int NOT NULL,
  `name` varchar(50) COLLATE utf8mb4_general_ci NOT NULL,
  `description` text COLLATE utf8mb4_general_ci
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Дамп данных таблицы `genres`
--

INSERT INTO `genres` (`genre_id`, `name`, `description`) VALUES
(1, 'Фэнтези', 'Жанр, основанный на использовании мифологических и сказочных мотивов.'),
(2, 'Антиутопия', 'Жанр, описывающий общество, в котором возобладали негативные тенденции развития.'),
(3, 'Классика', 'Произведения, признанные образцовыми в литературе.'),
(4, 'Ужасы', 'Жанр, предназначенный устрашить, напугать, шокировать.'),
(5, 'Детектив', 'Жанр, посвящённый расследованию преступления.'),
(6, 'Роман', 'Большое повествовательное произведение в прозе.'),
(7, 'Научная фантастика', 'Жанр, основанный на фантастических допущениях в науке и технике.'),
(8, 'Триллер', 'Жанр, вызывающий у зрителей/читателей чувство напряжённого ожидания, волнения.'),
(9, 'Исторический роман', 'Роман, действие которого разворачивается на фоне исторических событий.'),
(10, 'Биография', 'Описание жизни человека, сделанное другими людьми.');

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `authors`
--
ALTER TABLE `authors`
  ADD PRIMARY KEY (`author_id`);

--
-- Индексы таблицы `books`
--
ALTER TABLE `books`
  ADD PRIMARY KEY (`book_id`),
  ADD KEY `author_id` (`author_id`),
  ADD KEY `genre_id` (`genre_id`),
  ADD KEY `category_id` (`category_id`);

--
-- Индексы таблицы `categories`
--
ALTER TABLE `categories`
  ADD PRIMARY KEY (`category_id`);

--
-- Индексы таблицы `genres`
--
ALTER TABLE `genres`
  ADD PRIMARY KEY (`genre_id`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `authors`
--
ALTER TABLE `authors`
  MODIFY `author_id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=23;

--
-- AUTO_INCREMENT для таблицы `books`
--
ALTER TABLE `books`
  MODIFY `book_id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=293;

--
-- AUTO_INCREMENT для таблицы `categories`
--
ALTER TABLE `categories`
  MODIFY `category_id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- AUTO_INCREMENT для таблицы `genres`
--
ALTER TABLE `genres`
  MODIFY `genre_id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `books`
--
ALTER TABLE `books`
  ADD CONSTRAINT `books_ibfk_1` FOREIGN KEY (`author_id`) REFERENCES `authors` (`author_id`),
  ADD CONSTRAINT `books_ibfk_2` FOREIGN KEY (`genre_id`) REFERENCES `genres` (`genre_id`),
  ADD CONSTRAINT `books_ibfk_3` FOREIGN KEY (`category_id`) REFERENCES `categories` (`category_id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
